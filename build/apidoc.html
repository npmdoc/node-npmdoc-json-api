<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/ethanresnick/json-api"

    >json-api (v2.15.7)</a>
</h1>
<h4>A library for constructing JSON-API compliant responses</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-api">module json-api</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry">
            function <span class="apidocSignatureSpan">json-api.</span>ResourceTypeRegistry
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">json-api.</span>ResourceTypeRegistry.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">json-api.</span>controllers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">json-api.</span>dbAdapters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">json-api.</span>httpStrategies</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">json-api.</span>types</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">json-api.</span>types.Documentation</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-api.ResourceTypeRegistry">module json-api.ResourceTypeRegistry</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry.ResourceTypeRegistry">
            function <span class="apidocSignatureSpan">json-api.</span>ResourceTypeRegistry
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-api.ResourceTypeRegistry.prototype">module json-api.ResourceTypeRegistry.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.beforeRender">
            function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>beforeRender
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.beforeSave">
            function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>beforeSave
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.behaviors">
            function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>behaviors
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.dbAdapter">
            function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>dbAdapter
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.defaultIncludes">
            function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>defaultIncludes
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.info">
            function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>info
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.labelMappers">
            function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>labelMappers
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.parentType">
            function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>parentType
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-api.controllers">module json-api.controllers</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.controllers.API">
            function <span class="apidocSignatureSpan">json-api.controllers.</span>API
            <span class="apidocSignatureSpan">(registry)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.controllers.Documentation">
            function <span class="apidocSignatureSpan">json-api.controllers.</span>Documentation
            <span class="apidocSignatureSpan">(registry, apiInfo, templatePath)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-api.dbAdapters">module json-api.dbAdapters</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.dbAdapters.Mongoose">
            function <span class="apidocSignatureSpan">json-api.dbAdapters.</span>Mongoose
            <span class="apidocSignatureSpan">(models, inflector, idGenerator)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-api.httpStrategies">module json-api.httpStrategies</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.httpStrategies.Express">
            function <span class="apidocSignatureSpan">json-api.httpStrategies.</span>Express
            <span class="apidocSignatureSpan">(apiController, docsController, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.httpStrategies.Koa">
            function <span class="apidocSignatureSpan">json-api.httpStrategies.</span>Koa
            <span class="apidocSignatureSpan">(apiController, docsController, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-api.types">module json-api.types</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.types.Collection">
            function <span class="apidocSignatureSpan">json-api.types.</span>Collection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.types.Document">
            function <span class="apidocSignatureSpan">json-api.types.</span>Document
            <span class="apidocSignatureSpan">(primaryOrErrors, included, meta, urlTemplates, reqURI)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.types.Error">
            function <span class="apidocSignatureSpan">json-api.types.</span>Error
            <span class="apidocSignatureSpan">(status, code, title, detail, links, paths)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.types.Linkage">
            function <span class="apidocSignatureSpan">json-api.types.</span>Linkage
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.types.Relationship">
            function <span class="apidocSignatureSpan">json-api.types.</span>Relationship
            <span class="apidocSignatureSpan">(linkage, relatedURITemplate, selfURITemplate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.types.Resource">
            function <span class="apidocSignatureSpan">json-api.types.</span>Resource
            <span class="apidocSignatureSpan">(type, id)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">json-api.types.</span>Documentation</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-api.types.Documentation">module json-api.types.Documentation</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.types.Documentation.Field">
            function <span class="apidocSignatureSpan">json-api.types.Documentation.</span>Field
            <span class="apidocSignatureSpan">(name, type, validation, friendlyName, defaultVal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-api.types.Documentation.FieldType">
            function <span class="apidocSignatureSpan">json-api.types.Documentation.</span>FieldType
            <span class="apidocSignatureSpan">(baseType)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-api" id="apidoc.module.json-api">module json-api</a></h1>


    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry" id="apidoc.element.json-api.ResourceTypeRegistry">
        function <span class="apidocSignatureSpan">json-api.</span>ResourceTypeRegistry
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResourceTypeRegistry() {
  var _this = this;

  var typeDescriptions = arguments.length &#x3c;= 0 || arguments[0] === undefined ? {} : arguments[0];
  var descriptionDefaults = arguments.length &#x3c;= 1 || arguments[1] === undefined ? {} : arguments[1];

  _classCallCheck(this, ResourceTypeRegistry);

  this[typesKey] = {};
  descriptionDefaults = globalResourceDefaults.mergeDeep(descriptionDefaults);

  // Sort the types so we can register them in an order that respects their
  // parentType. First, we pre-process the typeDescriptions to create edges
  // pointing to each node&#x27;s children (rather than the links we have by
  // default, which point to the parent). Then we do an abridged topological
  // sort that works in this case. Below, nodes is a list of type names.
  // Roots are nodes with no parents. Edges is a map, with each key being the
  // name of a starting node A, and the value being a set of node names for
  // which there is an edge from A to that node.
  var nodes = [],
      roots = [],
      edges = {};

  for (var typeName in typeDescriptions) {
    var nodeParentType = typeDescriptions[typeName].parentType;
    nodes.push(typeName);

    if (nodeParentType) {
      edges[nodeParentType] = edges[nodeParentType] || {};
      edges[nodeParentType][typeName] = true;
    } else {
      roots.push(typeName);
    }
  }

  var typeRegistrationOrder = (0, _utilMisc.pseudoTopSort)(nodes, edges, roots);

  // register the types, in order
  typeRegistrationOrder.forEach(function (typeName) {
    var parentType = typeDescriptions[typeName].parentType;

    // defaultIncludes need to be made into an object if they came as an array.
    // TODO: Remove support for array format before v3. It&#x27;s inconsistent.
    var thisDescriptionRaw = _immutable2[&#x22;default&#x22;].fromJS(typeDescriptions[typeName]);
    var thisDescriptionMerged = descriptionDefaults.mergeDeep(thisDescriptionRaw);

    _this[typesKey][typeName] = parentType ?
    // If we have a parentType, we merge in all the parent&#x27;s fields,
    // BUT we then overwrite labelMappers with just the ones directly
    // from this description. We don&#x27;t inherit labelMappers because a
    // labelMapper is a kind of filter, and the results of a filter
    // on the parent type may not be instances of the subtype.
    _this[typesKey][parentType].mergeDeep(thisDescriptionRaw).set(&#x22;labelMappers&#x22;, thisDescriptionRaw.get(&#x22;labelMappers&#x22;)) :

    // If we don&#x27;t have a parentType, just register
    // the description merged with the universal defaults
    thisDescriptionMerged;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var models = {
  &#x22;Person&#x22;: require(&#x27;./models/person&#x27;),
  &#x22;Place&#x22;: require(&#x27;./models/place&#x27;)
};

var adapter = new API.dbAdapters.Mongoose(models);
var registry = new API.<span class="apidocCodeKeywordSpan">ResourceTypeRegistry</span>({
  &#x22;people&#x22;: {
    urlTemplates: {
      &#x22;self&#x22;: &#x22;/people/{id}&#x22;
    },
    beforeRender: function(resource, req, res) {
      if(!userIsAdmin(req)) resource.removeAttr(&#x22;password&#x22;);
      return resource;
...</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-api.ResourceTypeRegistry" id="apidoc.module.json-api.ResourceTypeRegistry">module json-api.ResourceTypeRegistry</a></h1>


    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry.ResourceTypeRegistry" id="apidoc.element.json-api.ResourceTypeRegistry.ResourceTypeRegistry">
        function <span class="apidocSignatureSpan">json-api.</span>ResourceTypeRegistry
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResourceTypeRegistry() {
  var _this = this;

  var typeDescriptions = arguments.length &#x3c;= 0 || arguments[0] === undefined ? {} : arguments[0];
  var descriptionDefaults = arguments.length &#x3c;= 1 || arguments[1] === undefined ? {} : arguments[1];

  _classCallCheck(this, ResourceTypeRegistry);

  this[typesKey] = {};
  descriptionDefaults = globalResourceDefaults.mergeDeep(descriptionDefaults);

  // Sort the types so we can register them in an order that respects their
  // parentType. First, we pre-process the typeDescriptions to create edges
  // pointing to each node&#x27;s children (rather than the links we have by
  // default, which point to the parent). Then we do an abridged topological
  // sort that works in this case. Below, nodes is a list of type names.
  // Roots are nodes with no parents. Edges is a map, with each key being the
  // name of a starting node A, and the value being a set of node names for
  // which there is an edge from A to that node.
  var nodes = [],
      roots = [],
      edges = {};

  for (var typeName in typeDescriptions) {
    var nodeParentType = typeDescriptions[typeName].parentType;
    nodes.push(typeName);

    if (nodeParentType) {
      edges[nodeParentType] = edges[nodeParentType] || {};
      edges[nodeParentType][typeName] = true;
    } else {
      roots.push(typeName);
    }
  }

  var typeRegistrationOrder = (0, _utilMisc.pseudoTopSort)(nodes, edges, roots);

  // register the types, in order
  typeRegistrationOrder.forEach(function (typeName) {
    var parentType = typeDescriptions[typeName].parentType;

    // defaultIncludes need to be made into an object if they came as an array.
    // TODO: Remove support for array format before v3. It&#x27;s inconsistent.
    var thisDescriptionRaw = _immutable2[&#x22;default&#x22;].fromJS(typeDescriptions[typeName]);
    var thisDescriptionMerged = descriptionDefaults.mergeDeep(thisDescriptionRaw);

    _this[typesKey][typeName] = parentType ?
    // If we have a parentType, we merge in all the parent&#x27;s fields,
    // BUT we then overwrite labelMappers with just the ones directly
    // from this description. We don&#x27;t inherit labelMappers because a
    // labelMapper is a kind of filter, and the results of a filter
    // on the parent type may not be instances of the subtype.
    _this[typesKey][parentType].mergeDeep(thisDescriptionRaw).set(&#x22;labelMappers&#x22;, thisDescriptionRaw.get(&#x22;labelMappers&#x22;)) :

    // If we don&#x27;t have a parentType, just register
    // the description merged with the universal defaults
    thisDescriptionMerged;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var models = {
  &#x22;Person&#x22;: require(&#x27;./models/person&#x27;),
  &#x22;Place&#x22;: require(&#x27;./models/place&#x27;)
};

var adapter = new API.dbAdapters.Mongoose(models);
var registry = new API.<span class="apidocCodeKeywordSpan">ResourceTypeRegistry</span>({
  &#x22;people&#x22;: {
    urlTemplates: {
      &#x22;self&#x22;: &#x22;/people/{id}&#x22;
    },
    beforeRender: function(resource, req, res) {
      if(!userIsAdmin(req)) resource.removeAttr(&#x22;password&#x22;);
      return resource;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-api.ResourceTypeRegistry.prototype" id="apidoc.module.json-api.ResourceTypeRegistry.prototype">module json-api.ResourceTypeRegistry.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.beforeRender" id="apidoc.element.json-api.ResourceTypeRegistry.prototype.beforeRender">
        function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>beforeRender
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeRender = function (type) {
  return (0, _utilTypeHandling.Maybe)(this[typesKey][type]).bind(function (it) {
    return it.get(attrName);
  }).bind(function (it) {
    return it instanceof _immutable2[&#x22;default&#x22;].Map || it instanceof _immutable2[&#x22;default&#x22;].List ? it.toJS() : it;
  }).unwrap();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.beforeSave" id="apidoc.element.json-api.ResourceTypeRegistry.prototype.beforeSave">
        function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>beforeSave
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeSave = function (type) {
  return (0, _utilTypeHandling.Maybe)(this[typesKey][type]).bind(function (it) {
    return it.get(attrName);
  }).bind(function (it) {
    return it instanceof _immutable2[&#x22;default&#x22;].Map || it instanceof _immutable2[&#x22;default&#x22;].List ? it.toJS() : it;
  }).unwrap();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.behaviors" id="apidoc.element.json-api.ResourceTypeRegistry.prototype.behaviors">
        function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>behaviors
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">behaviors = function (type) {
  return (0, _utilTypeHandling.Maybe)(this[typesKey][type]).bind(function (it) {
    return it.get(attrName);
  }).bind(function (it) {
    return it instanceof _immutable2[&#x22;default&#x22;].Map || it instanceof _immutable2[&#x22;default&#x22;].List ? it.toJS() : it;
  }).unwrap();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.dbAdapter" id="apidoc.element.json-api.ResourceTypeRegistry.prototype.dbAdapter">
        function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>dbAdapter
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dbAdapter = function (type) {
  return (0, _utilTypeHandling.Maybe)(this[typesKey][type]).bind(function (it) {
    return it.get(attrName);
  }).bind(function (it) {
    return it instanceof _immutable2[&#x22;default&#x22;].Map || it instanceof _immutable2[&#x22;default&#x22;].List ? it.toJS() : it;
  }).unwrap();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.defaultIncludes" id="apidoc.element.json-api.ResourceTypeRegistry.prototype.defaultIncludes">
        function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>defaultIncludes
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defaultIncludes = function (type) {
  return (0, _utilTypeHandling.Maybe)(this[typesKey][type]).bind(function (it) {
    return it.get(attrName);
  }).bind(function (it) {
    return it instanceof _immutable2[&#x22;default&#x22;].Map || it instanceof _immutable2[&#x22;default&#x22;].List ? it.toJS() : it;
  }).unwrap();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.info" id="apidoc.element.json-api.ResourceTypeRegistry.prototype.info">
        function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>info
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (type) {
  return (0, _utilTypeHandling.Maybe)(this[typesKey][type]).bind(function (it) {
    return it.get(attrName);
  }).bind(function (it) {
    return it instanceof _immutable2[&#x22;default&#x22;].Map || it instanceof _immutable2[&#x22;default&#x22;].List ? it.toJS() : it;
  }).unwrap();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.labelMappers" id="apidoc.element.json-api.ResourceTypeRegistry.prototype.labelMappers">
        function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>labelMappers
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">labelMappers = function (type) {
  return (0, _utilTypeHandling.Maybe)(this[typesKey][type]).bind(function (it) {
    return it.get(attrName);
  }).bind(function (it) {
    return it instanceof _immutable2[&#x22;default&#x22;].Map || it instanceof _immutable2[&#x22;default&#x22;].List ? it.toJS() : it;
  }).unwrap();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.ResourceTypeRegistry.prototype.parentType" id="apidoc.element.json-api.ResourceTypeRegistry.prototype.parentType">
        function <span class="apidocSignatureSpan">json-api.ResourceTypeRegistry.prototype.</span>parentType
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parentType = function (type) {
  return (0, _utilTypeHandling.Maybe)(this[typesKey][type]).bind(function (it) {
    return it.get(attrName);
  }).bind(function (it) {
    return it instanceof _immutable2[&#x22;default&#x22;].Map || it instanceof _immutable2[&#x22;default&#x22;].List ? it.toJS() : it;
  }).unwrap();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-api.controllers" id="apidoc.module.json-api.controllers">module json-api.controllers</a></h1>


    <h2>
        <a href="#apidoc.element.json-api.controllers.API" id="apidoc.element.json-api.controllers.API">
        function <span class="apidocSignatureSpan">json-api.controllers.</span>API
        <span class="apidocSignatureSpan">(registry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function APIController(registry) {
  _classCallCheck(this, APIController);

  this.registry = registry;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  &#x22;dbAdapter&#x22;: adapter
});

// Initialize the automatic documentation.
var DocsController = new API.controllers.Documentation(registry, {name: &#x27;Example API&#x27;});

// Set up our controllers
var APIController = new API.controllers.<span class="apidocCodeKeywordSpan">API</span>(registry);
var Front = new API.httpStrategies.Express(APIController, DocsController);
var requestHandler = Front.apiRequest.bind(Front);

// Add routes for basic list, read, create, update, delete operations
app.get(&#x22;/:type(people|places)&#x22;, requestHandler);
app.get(&#x22;/:type(people|places)/:id&#x22;, requestHandler);
app.post(&#x22;/:type(people|places)&#x22;, requestHandler);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.controllers.Documentation" id="apidoc.element.json-api.controllers.Documentation">
        function <span class="apidocSignatureSpan">json-api.controllers.</span>Documentation
        <span class="apidocSignatureSpan">(registry, apiInfo, templatePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocumentationController(registry, apiInfo, templatePath) {
  var _this = this;

  var dasherizeJSONKeys = arguments.length &#x3c;= 3 || arguments[3] === undefined ? true : arguments[3];

  _classCallCheck(this, DocumentationController);

  this.registry = registry;

  var defaultTempPath = &#x22;../../../templates/documentation.jade&#x22;;
  this.template = templatePath || _path2[&#x22;default&#x22;].resolve(__dirname, defaultTempPath);

  this.dasherizeJSONKeys = dasherizeJSONKeys;

  // compute template data on construction
  // (it never changes, so this makes more sense than doing it per request)
  var data = _Object$assign({}, apiInfo);
  data.resourcesMap = {};

  // Store in the resourcesMap the info object about each type,
  // as returned by @getTypeInfo.
  this.registry.typeNames().forEach(function (typeName) {
    data.resourcesMap[typeName] = _this.getTypeInfo(typeName);
  });

  this.templateData = data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    urlTemplates: {&#x22;self&#x22;: &#x22;/places/{id}&#x22;}
  }
}, {
  &#x22;dbAdapter&#x22;: adapter
});

// Initialize the automatic documentation.
var DocsController = new API.controllers.<span class="apidocCodeKeywordSpan">Documentation</span>(registry, {name: &#x27;Example
 API&#x27;});

// Set up our controllers
var APIController = new API.controllers.API(registry);
var Front = new API.httpStrategies.Express(APIController, DocsController);
var requestHandler = Front.apiRequest.bind(Front);

// Add routes for basic list, read, create, update, delete operations
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-api.dbAdapters" id="apidoc.module.json-api.dbAdapters">module json-api.dbAdapters</a></h1>


    <h2>
        <a href="#apidoc.element.json-api.dbAdapters.Mongoose" id="apidoc.element.json-api.dbAdapters.Mongoose">
        function <span class="apidocSignatureSpan">json-api.dbAdapters.</span>Mongoose
        <span class="apidocSignatureSpan">(models, inflector, idGenerator)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongooseAdapter(models, inflector, idGenerator) {
  _classCallCheck(this, MongooseAdapter);

  this.models = models || _mongoose2[&#x22;default&#x22;].models;
  this.inflector = inflector || _pluralize2[&#x22;default&#x22;];
  this.idGenerator = idGenerator;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  , API = require(&#x27;json-api&#x27;);

var models = {
  &#x22;Person&#x22;: require(&#x27;./models/person&#x27;),
  &#x22;Place&#x22;: require(&#x27;./models/place&#x27;)
};

var adapter = new API.dbAdapters.<span class="apidocCodeKeywordSpan">Mongoose</span>(models);
var registry = new API.ResourceTypeRegistry({
  &#x22;people&#x22;: {
    urlTemplates: {
      &#x22;self&#x22;: &#x22;/people/{id}&#x22;
    },
    beforeRender: function(resource, req, res) {
      if(!userIsAdmin(req)) resource.removeAttr(&#x22;password&#x22;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-api.httpStrategies" id="apidoc.module.json-api.httpStrategies">module json-api.httpStrategies</a></h1>


    <h2>
        <a href="#apidoc.element.json-api.httpStrategies.Express" id="apidoc.element.json-api.httpStrategies.Express">
        function <span class="apidocSignatureSpan">json-api.httpStrategies.</span>Express
        <span class="apidocSignatureSpan">(apiController, docsController, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ExpressStrategy(apiController, docsController, options) {
  _classCallCheck(this, ExpressStrategy);

  _get(Object.getPrototypeOf(ExpressStrategy.prototype), &#x22;constructor&#x22;, this).call(this, apiController, docsController, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// Initialize the automatic documentation.
var DocsController = new API.controllers.Documentation(registry, {name: &#x27;Example API&#x27;});

// Set up our controllers
var APIController = new API.controllers.API(registry);
var Front = new API.httpStrategies.<span class="apidocCodeKeywordSpan">Express</span>(APIController, DocsController);
var requestHandler = Front.apiRequest.bind(Front);

// Add routes for basic list, read, create, update, delete operations
app.get(&#x22;/:type(people|places)&#x22;, requestHandler);
app.get(&#x22;/:type(people|places)/:id&#x22;, requestHandler);
app.post(&#x22;/:type(people|places)&#x22;, requestHandler);
app.patch(&#x22;/:type(people|places)/:id&#x22;, requestHandler);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.httpStrategies.Koa" id="apidoc.element.json-api.httpStrategies.Koa">
        function <span class="apidocSignatureSpan">json-api.httpStrategies.</span>Koa
        <span class="apidocSignatureSpan">(apiController, docsController, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function KoaStrategy(apiController, docsController, options) {
  _classCallCheck(this, KoaStrategy);

  _get(Object.getPrototypeOf(KoaStrategy.prototype), &#x22;constructor&#x22;, this).call(this, apiController, docsController, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-api.types" id="apidoc.module.json-api.types">module json-api.types</a></h1>


    <h2>
        <a href="#apidoc.element.json-api.types.Collection" id="apidoc.element.json-api.types.Collection">
        function <span class="apidocSignatureSpan">json-api.types.</span>Collection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Collection() {
  var resources = arguments.length &#x3c;= 0 || arguments[0] === undefined ? [] : arguments[0];

  _classCallCheck(this, Collection);

  this.resources = resources;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.types.Document" id="apidoc.element.json-api.types.Document">
        function <span class="apidocSignatureSpan">json-api.types.</span>Document
        <span class="apidocSignatureSpan">(primaryOrErrors, included, meta, urlTemplates, reqURI)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Document(primaryOrErrors, included, meta, urlTemplates, reqURI) {
  _classCallCheck(this, Document);

  // validate meta
  var _ref = [primaryOrErrors, included, reqURI];
  this.primaryOrErrors = _ref[0];
  this.included = _ref[1];
  this.reqURI = _ref[2];
  if (meta !== undefined) {
    if (typeof meta === &#x22;object&#x22; &#x26;&#x26; !Array.isArray(meta)) {
      this.meta = meta;
    } else {
      throw new Error(&#x22;Meta information must be an object&#x22;);
    }
  }

  // parse all the templates once on construction.
  this.urlTemplates = (0, _utilTypeHandling.mapObject)(urlTemplates || {}, function (templatesForType) {
    return (0, _utilTypeHandling.mapObject)(templatesForType, _urlTemplate2[&#x22;default&#x22;].parse.bind(_urlTemplate2[&#x22;default&#x22;]));
  });

  this.reqURI = reqURI;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.types.Error" id="apidoc.element.json-api.types.Error">
        function <span class="apidocSignatureSpan">json-api.types.</span>Error
        <span class="apidocSignatureSpan">(status, code, title, detail, links, paths)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function APIError(status, code, title, detail, links, paths) {
  var _this = this;

  _classCallCheck(this, APIError);

  _get(Object.getPrototypeOf(APIError.prototype), &#x22;constructor&#x22;, this).call(this);

  // Hack around lack of proxy support and default non-enumerability
  // of class accessor properties, while still giving us validation.
  Object.defineProperty(this, &#x22;_status&#x22;, nonEnumerable);
  Object.defineProperty(this, &#x22;_code&#x22;, nonEnumerable);
  Object.defineProperty(this, &#x22;status&#x22;, {
    enumerable: true,
    get: function get() {
      return _this._status;
    },
    set: function set(value) {
      if (typeof value !== &#x22;undefined&#x22; &#x26;&#x26; value !== null) {
        _this._status = String(value).toString();
      } else {
        _this._status = value;
      }
    }
  });
  Object.defineProperty(this, &#x22;code&#x22;, {
    enumerable: true,
    get: function get() {
      return _this._code;
    },
    set: function set(value) {
      if (typeof value !== &#x22;undefined&#x22; &#x26;&#x26; value !== null) {
        _this._code = String(value).toString();
      } else {
        _this._code = value;
      }
    }
  });

  var _Array$from = _Array$from3(arguments);

  var _Array$from2 = _slicedToArray(_Array$from, 6);

  this.status = _Array$from2[0];
  this.code = _Array$from2[1];
  this.title = _Array$from2[2];
  this.detail = _Array$from2[3];
  this.links = _Array$from2[4];
  this.paths = _Array$from2[5];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.types.Linkage" id="apidoc.element.json-api.types.Linkage">
        function <span class="apidocSignatureSpan">json-api.types.</span>Linkage
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Linkage(value) {
  _classCallCheck(this, Linkage);

  this.set(value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.types.Relationship" id="apidoc.element.json-api.types.Relationship">
        function <span class="apidocSignatureSpan">json-api.types.</span>Relationship
        <span class="apidocSignatureSpan">(linkage, relatedURITemplate, selfURITemplate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Relationship(linkage, relatedURITemplate, selfURITemplate) {
  _classCallCheck(this, Relationship);

  _Object$assign(this, { linkage: linkage, relatedURITemplate: relatedURITemplate, selfURITemplate: selfURITemplate });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.types.Resource" id="apidoc.element.json-api.types.Resource">
        function <span class="apidocSignatureSpan">json-api.types.</span>Resource
        <span class="apidocSignatureSpan">(type, id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Resource(type, id) {
  var attrs = arguments.length &#x3c;= 2 || arguments[2] === undefined ? {} : arguments[2];
  var relationships = arguments.length &#x3c;= 3 || arguments[3] === undefined ? {} : arguments[3];
  var meta = arguments.length &#x3c;= 4 || arguments[4] === undefined ? {} : arguments[4];

  _classCallCheck(this, Resource);

  var _ref = [type, id, attrs, relationships, meta];
  this.type = _ref[0];
  this.id = _ref[1];
  this.attrs = _ref[2];
  this.relationships = _ref[3];
  this.meta = _ref[4];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-api.types.Documentation" id="apidoc.module.json-api.types.Documentation">module json-api.types.Documentation</a></h1>


    <h2>
        <a href="#apidoc.element.json-api.types.Documentation.Field" id="apidoc.element.json-api.types.Documentation.Field">
        function <span class="apidocSignatureSpan">json-api.types.Documentation.</span>Field
        <span class="apidocSignatureSpan">(name, type, validation, friendlyName, defaultVal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Field(name, type, validation, friendlyName, defaultVal) {
  if (validation === undefined) validation = {};

  _classCallCheck(this, Field);

  // call the property kind to
  // distinguish it from json api type
  this.kind = type;

  this.name = name;
  this.validation = validation;
  this.friendlyName = friendlyName;
  this[&#x22;default&#x22;] = defaultVal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-api.types.Documentation.FieldType" id="apidoc.element.json-api.types.Documentation.FieldType">
        function <span class="apidocSignatureSpan">json-api.types.Documentation.</span>FieldType
        <span class="apidocSignatureSpan">(baseType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FieldType(baseType) {
  var isArray = arguments.length &#x3c;= 1 || arguments[1] === undefined ? false : arguments[1];

  _classCallCheck(this, FieldType);

  var _ref = [baseType, isArray];
  this.baseType = _ref[0];
  this.isArray = _ref[1];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
